{{!
  Copyright (C) 2017 Google Inc.
  Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

<div class="{{topWrapperClass}}">

  {{#rolesInfo}}
    <div class="{{roleBlockClass}} bottom-spacing role-block">
      <h6>
        {{role.name}}

        {{#if canEdit}}
          <i class="fa fa-plus-circle add-role"
             title="Grant Role {{role.name}}"
             ($click)="grantRoleMode(role.id)"></i>
        {{/if}}
      </h6>

      {{#if_equals role.id grantingRoleId}}
        {{#if canEdit}}
        <autocomplete
          search-items-type="Person"
          (item-selected)="grantRole(%event.selectedItem, %context.role.id)"
          placeholder="Select person"
        ></autocomplete>
        {{/if}}
      {{/if}}

      {{^roleAssignments}}
        <p>
          <span class="empty-message">None</span>
        </p>
      {{/roleAssignments}}

      {{#roleAssignments}}
        <person-info
          person-id="person.id"
          editable="{{canEdit}}"
          (person-remove)="revokeRole(%event.person, %context.ac_role_id)"
          ></person-info>
      {{/roleAssignments}}
    </div>
  {{/rolesInfo}}

</div>
