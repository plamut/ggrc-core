{{!
    Copyright (C) 2016 Google Inc.
    Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

{{#instance}}
<li>
  <span class="person-label {{assignee_types assignee_type}}"></span>
  <div class="w-status">
    <span class="entry-author">
      {{#using person=modified_by}}
        {{{render '/static/mustache/people/popover.mustache' person=person}}}
      {{/using}}
      added a response - {{date created_at}}
    </span>
    {{#instance.custom_attribute_revision}}
        <h6 class="comment-list__ca-description">{{instance.custom_attribute_revision.custom_attribute.title}}: {{instance.custom_attribute_revision.custom_attribute_stored_value}}</h6>
    {{/instance.custom_attribute_revision}}
    <div class="rtf-block">
      {{!
        The inlineEdit component parses and updates the "type" attribute too
        late (after its template has been parsed), sometimes causing the inline
        edit widget not to be rendered at all. We thus need to explicitly set
        the said attribute to "text" before using  the component.
      }}
      {{#add_to_current_scope type="text"}}
        <inline-edit
          type="text"
          instance="instance"
          property="description"
          value="description"
          {{^canEditComment instance parentInstance}}readonly{{/canEditComment}}
          can-on-save="instance.updateDescription"
          empty-text="No comment was entered"
        ></inline-edit>
      {{/add_to_current_scope}}
    </div>
    <mapping-tree-view
      parent-instance="instance"
      mapping="instance.class.info_pane_options.documents.mapping"
      item-template="instance.class.info_pane_options.documents.show_view"
    >
    </mapping-tree-view>
  </div>
</li>
{{/instance}}
